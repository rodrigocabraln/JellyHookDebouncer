# Jellyfin → Home Assistant Wrapper Configuration

# Home Assistant webhook URL (required)
# Example: http://10.1.1.X:8123/api/webhook/jellyfin_event
HA_WEBHOOK_URL=http://YOUR_HA_IP:8123/api/webhook/jellyfin_event

# Wrapper listening port
PORT=8099

# Seconds to wait before confirming a real pause
# (during seek, Jellyfin sends IsPaused=true for 1-3s)
# Recommended: 2-5 seconds
PAUSE_DEBOUNCE_SECS=2

# Percentage of runtime to consider movie ended (fallback)
# Used only when no "End Credits" chapter is found in the media file
# Recommended: 95 (triggers at 95% of runtime)
CREDITS_THRESHOLD_PCT=95

# Jellyfin API (optional, enables chapter-based credits detection)
# When configured, the wrapper fetches chapter data from Jellyfin on playback start
# and uses the "End Credits" chapter position for precise detection.
# To get an API key: Jellyfin Dashboard → API Keys → Create
JELLYFIN_URL=http://YOUR_JELLYFIN_IP:8096
JELLYFIN_API_KEY=your_api_key_here

# Device filter (optional)
# If set, only process events from these devices (comma-separated)
# Example: ALLOWED_DEVICES=Apple TV,Chrome
# Leave commented or empty to process all devices
# ALLOWED_DEVICES=

# Logging level: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO
